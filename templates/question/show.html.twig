{% extends 'baseMain.html.twig' %}

{% block title %}Questionnaire : {{ quiz.title|capitalize }}{% endblock %}

{% block stylesheets %}
    {{ encore_entry_link_tags('question') }}
{% endblock %}

{% block content %}
    <div class="jumbotron jumbotron-fluid" style="position: relative;">
        <div class="container-length-tags w-100">
            <div class="badge badge-success my-auto">{{ quiz.questions|length }} questions</div>
            <div class="container-tag">
                {% for tag in quiz.tags %}
                    {{ include('partiels/_showTagBadge.html.twig') }}
                {% endfor %}
            </div>
        </div>
        <div class="container">
            <h1 class="display-4">{{ quiz.title|capitalize }}</h1>
            <p class="lead">{{ quiz.description }}</p>
        </div>
    </div>

    <div class="container-results">
        <fieldset>

            {% for result in results %}
            <legend>Résultats :</legend>
            <table class="table table-striped table-bordered table-sm text-center">
                <thead>
                <tr class="table-info">
                    <th>Date</th>
                    <th>Score</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <th>{{ result.dateAt|date('d/m/Y') }}</th>
                    <td>{{ result.score }} %</td>
                </tr>
                </tbody>
            </table>
            {% else %}

                <legend>Aucun test</legend>
                <div>Vous n'avez pas encore effectué de test sur ce questionnaire.</div>
            {% endfor %}

        </fieldset>
        <div class="container-buttons">
            <a href="#" class="btn btn-outline-primary">Lancer le test !</a>
            <a href="{{ path('app_question') }}" class="btn btn-outline-secondary">Retour</a>
        </div>
    </div>
{% endblock %}
